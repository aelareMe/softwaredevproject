

DROP TABLE  IF EXISTS  schedule_study ;
DROP TABLE  IF EXISTS  subject ;
DROP TABLE  IF EXISTS  user_info ;
CREATE TABLE user_info (
	user_id serial2 PRIMARY KEY,
	user_name VARCHAR (255) UNIQUE NOT NULL,
	user_password VARCHAR (255) UNIQUE NOT NULL,
	NAME VARCHAR (255) NOT NULL
);

CREATE TABLE subject (
	study_id serial2 PRIMARY KEY,
	study_name VARCHAR (255),
	study_decription VARCHAR (255),
	study_limit int8,
	user_id int8,
	CONSTRAINT fkuser_id FOREIGN KEY (user_id) REFERENCES user_info (user_id)
);
CREATE TABLE schedule_study (
	study_details_id serial2 PRIMARY KEY,
	study_id int8,
	type int8,
	study_percent int2 DEFAULT 0,
	study_description VARCHAR (255),
	time_start TIMESTAMP,
	time_end TIMESTAMP,
	CONSTRAINT fkstudy_id FOREIGN KEY (study_id) REFERENCES subject (study_id)
);

